<!DOCTYPE html>
<html lang="id">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>DANZZ PEDIA - Verifikasi & VIP</title>
   <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&family=Inter:wght@400;500;600;700&family=Space+Grotesk:wght@500;600;700&family=Russo+One&display=swap" rel="stylesheet">
   <script src="https://cdn.tailwindcss.com"></script>
   <style>
       body { font-family: 'Inter', sans-serif; background: #fffaf5; color: #1a1a1a; overflow-x: hidden; }
       .font-jakarta { font-family: 'Plus Jakarta Sans', sans-serif; }
       .font-space { font-family: 'Space Grotesk', sans-serif; }
       .font-gaming { font-family: 'Russo One', sans-serif; }

       .game-card, .verif-card {
           background: #ffffff;
           border: 2px solid #fed7aa;
           border-radius: 16px;
           transition: all 0.3s ease;
           position: relative;
           overflow: hidden;
           cursor: pointer;
       }
       .game-card:hover, .verif-card:hover {
           border-color: #f97316;
           transform: translateY(-4px);
           box-shadow: 0 12px 30px rgba(249,115,22,0.15);
       }
       .selected {
           border-color: #f97316 !important;
           background: linear-gradient(135deg, #ffffff 0%, #fff7ed 100%);
           box-shadow: 0 0 0 4px rgba(249,115,22,0.2);
       }
       .selected .check-icon { opacity: 1; transform: scale(1); }

       .check-icon {
           position: absolute; top: 8px; right: 8px;
           width: 24px; height: 24px;
           background: #f97316; border-radius: 50%;
           display: flex; align-items: center; justify-content: center;
           opacity: 0; transform: scale(0);
           transition: all 0.3s;
       }

       .input-modern {
           background: #ffffff; border: 2px solid #fed7aa; border-radius: 12px;
           transition: all 0.3s;
       }
       .input-modern:focus { border-color: #f97316; box-shadow: 0 0 0 4px rgba(249,115,22,0.15); outline: none; }

       .btn-primary {
           background: linear-gradient(135deg, #f97316 0%, #ea580c 100%);
           color: white; font-weight: 700; border-radius: 12px;
           transition: all 0.3s;
       }
       .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 12px 35px rgba(249,115,22,0.35); }

       .sticky-bottom {
           position: fixed; bottom: 0; left: 0; right: 0;
           background: white; border-top: 1px solid #fed7aa;
           box-shadow: 0 -10px 40px rgba(0,0,0,0.1);
           transform: translateY(100%);
           transition: transform 0.3s; z-index: 50;
       }
       .sticky-bottom.show { transform: translateY(0); }

       .price-original { color: #9ca3af; text-decoration: line-through; font-size: 0.875rem; }
       .price-discount { color: #16a34a; font-weight: 700; font-size: 1.25rem; }

       .toast {
           position: fixed; top: 80px; right: 16px; max-width: 90%;
           background: white; border-left: 5px solid #f97316;
           padding: 14px 20px; border-radius: 12px;
           box-shadow: 0 10px 35px rgba(0,0,0,0.15);
           transform: translateX(150%);
           transition: transform 0.35s; z-index: 100;
       }
       .toast.show { transform: translateX(0); }

       .red-header {
           background: linear-gradient(135deg, #f97316 0%, #ea580c 100%);
           color: white; padding: 12px 16px;
           margin: -16px -16px 16px -16px;
           border-radius: 12px 12px 0 0;
       }

       .online-status { color: #22c55e !important; }

       @media (max-width: 640px) {
           .grid-cols-3 { grid-template-columns: repeat(2, minmax(0, 1fr)); gap: 12px; }
           .verif-card { padding: 12px; }
           .sticky-bottom .flex { flex-wrap: nowrap; gap: 10px; align-items: center; }
           .sticky-bottom button { padding: 12px 20px; font-size: 0.875rem; flex-shrink: 0; }
       }
   </style>
</head>
<body class="pb-40">

   <!-- Header -->
   <header class="fixed top-0 left-0 right-0 z-40 bg-white/95 backdrop-blur-xl border-b border-orange-200">
       <div class="max-w-3xl mx-auto px-4">
           <div class="flex items-center justify-between h-14">
               <div class="flex items-center gap-2">
                   <div class="w-8 h-8 rounded-lg bg-orange-100 flex items-center justify-center overflow-hidden">
                       <img src="https://raw.githubusercontent.com/0xme/ff-resources/refs/heads/main/pngs/300x300/Icon_face_NB_Black.png" alt="ADEN PEDIA Icon" class="w-7 h-7 object-contain">
                   </div>
                   <div>
                       <h1 class="font-gaming text-xl text-orange-600 tracking-wide">DANZZ PEDIA</h1>
                       <p class="text-xs text-gray-500 uppercase tracking-wider">Verifikasi & VIP</p>
                   </div>
               </div>
               <div class="flex items-center gap-1.5 px-2.5 py-1 rounded-full bg-orange-100 border border-orange-300">
                   <div class="w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse"></div>
                   <span class="text-xs font-medium online-status">Online</span>
               </div>
           </div>
       </div>
   </header>

   <div class="h-14"></div>

   <!-- Banner -->
   <section class="relative w-full h-48 overflow-hidden">
       <div class="absolute inset-0 bg-gradient-to-r from-black/70 via-transparent to-black/70 z-10"></div>
       <div class="absolute inset-0 bg-gradient-to-t from-[#fffaf5] via-transparent to-transparent z-10"></div>
       <img src="https://freefiremobile-a.akamaihd.net/common/web_event/official2.ff.garena.all/img/20228/663c4d3ce0eb9020cf4289efeb5ccbc5.jpg" alt="Banner" class="w-full h-full object-cover opacity-85">
       <div class="absolute inset-0 z-20 flex items-center justify-center text-center px-6">
           <div>
               <h2 class="text-white font-bold text-2xl sm:text-3xl drop-shadow-xl">Verifikasi & VIP Instan</h2>
               <p class="text-orange-100 text-base mt-2">Proses Cepat â€¢ Aman â€¢ Terpercaya</p>
           </div>
       </div>
   </section>

   <main class="max-w-3xl mx-auto px-4 -mt-8 relative z-30">

       <!-- Pilih Paket -->
       <section class="bg-white rounded-2xl shadow-xl border border-orange-200 p-5 mb-6">
           <div class="red-header flex items-center gap-3 mb-5 rounded-t-2xl">
               <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                   <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664zM21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
               </svg>
               <h3 class="font-bold text-base text-white">Pilih Paket</h3>
           </div>

           <div class="grid grid-cols-3 gap-4 sm:gap-6">
               <div class="game-card p-5 text-center" onclick="selectGame('ff')" id="game-ff">
                   <div class="flex flex-col items-center gap-3">
                       <img src="https://play-lh.googleusercontent.com/VxqoBX9loIqsESn5OPhXDLLYw8YFAlLJX3TJUb7ovyIQdRRWwGuG3jD9konTZAeWzd8VlVTDt8fkJ8BAEU4ZHQ=w480-h960-rw" alt="Free Fire" class="w-16 h-16 rounded-xl object-cover border border-orange-200">
                       <h4 class="font-bold text-lg">Verifikasi ASTUTE</h4>
                       <p class="text-sm text-gray-500">TeamKipas</p>
                   </div>
               </div>

               <div class="game-card p-5 text-center" onclick="selectGame('ml')" id="game-ml">
                   <div class="flex flex-col items-center gap-3">
                       <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTqoGDnNKgbQ3JQj20kNdsQ_XconL_CG86LDg&s" alt="Mobile Legends" class="w-16 h-16 rounded-xl object-cover border border-orange-200">
                       <h4 class="font-bold text-lg">VIP ANDRO</h4>
                       <p class="text-sm text-gray-500">TeamKipas</p>
                   </div>
               </div>

               <div class="game-card p-5 text-center" onclick="selectGame('fc')" id="game-fc">
                   <div class="flex flex-col items-center gap-3">
                       <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTqoGDnNKgbQ3JQj20kNdsQ_XconL_CG86LDg&s" alt="FC Mobile" class="w-16 h-16 rounded-xl object-cover border border-orange-200">
                       <h4 class="font-bold text-lg">VIP iOS</h4>
                       <p class="text-sm text-gray-500">TeamKipas</p>
                   </div>
               </div>
           </div>
       </section>

       <!-- Input ID -->
       <section class="bg-white rounded-2xl shadow-xl border border-orange-200 p-5 mb-6">
           <div class="red-header flex items-center gap-3 mb-5 rounded-t-2xl">
               <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                   <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
               </svg>
               <h3 class="font-bold text-base text-white" id="idTitle">Masukkan ID</h3>
           </div>

           <div class="space-y-4">
               <input type="text" id="userId" placeholder="Contoh: 1234567890" class="input-modern w-full px-5 py-4 text-lg" maxlength="12" inputmode="numeric">
           </div>

           <p class="text-sm text-gray-500 mt-3 flex items-center gap-2">
               <svg class="w-5 h-5 text-orange-600" fill="currentColor" viewBox="0 0 20 20">
                   <path d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z"/>
               </svg>
               <span id="idHint">ID bisa dilihat di pengaturan game kamu</span>
           </p>
       </section>

       <!-- Verifikasi Free Fire -->
       <section class="mb-8" id="ffSection">
           <h3 class="font-bold text-xl mb-4 flex items-center gap-3">
               <div class="w-8 h-8 rounded-lg bg-orange-100 flex items-center justify-center">
                   <svg class="w-5 h-5 text-orange-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                       <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                   </svg>
               </div>
               Verifikasi Free Fire
           </h3>

           <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
               <div class="verif-card p-6 text-center" onclick="selectItem(this, 'Verif 1 Hari', 2000)">
                   <div class="check-icon"><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg></div>
                   <h4 class="font-bold text-xl mb-2">1 Jam</h4>
                   <p class="text-gray-600 mb-3">Verifikasi Instan</p>
                   <div class="bg-orange-50 rounded-xl py-3 font-bold text-orange-700 text-lg">Rp 2.000</div>
               </div>

               <div class="verif-card p-6 text-center" onclick="selectItem(this, 'Verif 5 Hari', 5000)">
                   <div class="check-icon"><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg></div>
                   <h4 class="font-bold text-xl mb-2">2 Jam</h4>
                   <p class="text-gray-600 mb-3">Verifikasi Instan</p>
                   <div class="bg-orange-50 rounded-xl py-3 font-bold text-orange-700 text-lg">Rp 5.000</div>
               </div>

               <div class="verif-card p-6 text-center" onclick="selectItem(this, 'Verif 10 Hari', 10000)">
                   <div class="check-icon"><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg></div>
                   <h4 class="font-bold text-xl mb-2">3 Jam</h4>
                   <p class="text-gray-600 mb-3">Verifikasi Instan</p>
                   <div class="bg-orange-50 rounded-xl py-3 font-bold text-orange-700 text-lg">Rp 10.000</div>
               </div>
           </div>
       </section>

       <!-- VIP ANDRO -->
       <section class="mb-8 hidden" id="mlSection">
           <h3 class="font-bold text-xl mb-4 flex items-center gap-3">
               <div class="w-8 h-8 rounded-lg bg-orange-100 flex items-center justify-center">
                   <svg class="w-5 h-5 text-orange-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                       <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                   </svg>
               </div>
               VIP ANDRO
           </h3>

           <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
               <div class="verif-card p-6 text-center" onclick="selectItem(this, 'VIP 1 Hari ANDRO', 25000)">
                   <div class="check-icon"><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg></div>
                   <h4 class="font-bold text-xl mb-2">1 Hari</h4>
                   <p class="text-gray-600 mb-3">VIP Android</p>
                   <div class="bg-orange-50 rounded-xl py-3 font-bold text-orange-700 text-lg">Rp 25.000</div>
               </div>

               <div class="verif-card p-6 text-center" onclick="selectItem(this, 'VIP 2 Hari ANDRO', 50000)">
                   <div class="check-icon"><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg></div>
                   <h4 class="font-bold text-xl mb-2">2 Hari</h4>
                   <p class="text-gray-600 mb-3">VIP Android</p>
                   <div class="bg-orange-50 rounded-xl py-3 font-bold text-orange-700 text-lg">Rp 50.000</div>
               </div>

               <div class="verif-card p-6 text-center" onclick="selectItem(this, 'VIP 3 Hari ANDRO', 70000)">
                   <div class="check-icon"><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg></div>
                   <h4 class="font-bold text-xl mb-2">3 Hari</h4>
                   <p class="text-gray-600 mb-3">VIP Android</p>
                   <div class="bg-orange-50 rounded-xl py-3 font-bold text-orange-700 text-lg">Rp 70.000</div>
               </div>
           </div>
       </section>

       <!-- VIP iOS -->
       <section class="mb-8 hidden" id="fcSection">
           <h3 class="font-bold text-xl mb-4 flex items-center gap-3">
               <div class="w-8 h-8 rounded-lg bg-orange-100 flex items-center justify-center">
                   <svg class="w-5 h-5 text-orange-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                       <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                   </svg>
               </div>
               VIP iOS
           </h3>

           <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
               <div class="verif-card p-6 text-center" onclick="selectItem(this, 'VIP 1 Hari iOS', 30000)">
                   <div class="check-icon"><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg></div>
                   <h4 class="font-bold text-xl mb-2">1 Hari</h4>
                   <p class="text-gray-600 mb-3">VIP iOS</p>
                   <div class="bg-orange-50 rounded-xl py-3 font-bold text-orange-700 text-lg">Rp 30.000</div>
               </div>

               <div class="verif-card p-6 text-center" onclick="selectItem(this, 'VIP 2 Hari iOS', 60000)">
                   <div class="check-icon"><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg></div>
                   <h4 class="font-bold text-xl mb-2">2 Hari</h4>
                   <p class="text-gray-600 mb-3">VIP iOS</p>
                   <div class="bg-orange-50 rounded-xl py-3 font-bold text-orange-700 text-lg">Rp 60.000</div>
               </div>

               <div class="verif-card p-6 text-center" onclick="selectItem(this, 'VIP 3 Hari iOS', 85000)">
                   <div class="check-icon"><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg></div>
                   <h4 class="font-bold text-xl mb-2">3 Hari</h4>
                   <p class="text-gray-600 mb-3">VIP iOS</p>
                   <div class="bg-orange-50 rounded-xl py-3 font-bold text-orange-700 text-lg">Rp 85.000</div>
               </div>
           </div>
       </section>

       <!-- Ringkasan Pesanan -->
       <section class="mb-10 hidden" id="summarySection">
           <div class="flex items-center gap-3 mb-4">
               <div class="w-8 h-8 rounded-lg bg-orange-100 flex items-center justify-center">
                   <svg class="w-5 h-5 text-orange-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                       <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path>
                   </svg>
               </div>
               <h3 class="font-bold text-xl">Ringkasan Pesanan</h3>
           </div>

           <div class="bg-white rounded-2xl shadow-xl border border-orange-200 p-6 space-y-4">
               <div class="flex justify-between py-3 border-b border-orange-100">
                   <span class="text-gray-600">Game</span>
                   <span class="font-semibold text-gray-900" id="summaryGame">-</span>
               </div>
               <div class="flex justify-between py-3 border-b border-orange-100">
                   <span class="text-gray-600">Produk</span>
                   <span class="font-semibold text-gray-900" id="summaryProduct">-</span>
               </div>
               <div class="flex justify-between py-3 border-b border-orange-100">
                   <span class="text-gray-600">ID Akun</span>
                   <span class="font-semibold text-gray-900" id="summaryId">-</span>
               </div>
               <div class="flex justify-between py-3 border-b border-orange-100 hidden" id="promoRow">
                   <span class="text-gray-600">Diskon Promo</span>
                   <span class="font-semibold text-green-600" id="promoDiscount">- Rp 0</span>
               </div>
               <div class="flex justify-between pt-4">
                   <span class="text-lg font-bold text-gray-800">Total</span>
                   <div id="totalDisplay" class="text-2xl font-bold text-orange-600">
                       Rp <span id="summaryTotal">0</span>
                   </div>
               </div>
           </div>
       </section>

       <!-- Kode Promo -->
       <section class="bg-white rounded-2xl shadow-xl border border-orange-200 p-5 mb-6">
           <h3 class="font-bold text-lg mb-4 text-gray-900">Kode Promo</h3>
           <div class="flex flex-col sm:flex-row gap-3">
               <input type="text" id="promoCode" placeholder="Masukkan kode (ADENGACOR)" class="input-modern flex-1 px-5 py-4 text-base uppercase">
               <button onclick="applyPromo()" class="btn-primary px-8 py-4 text-base w-full sm:w-auto">Terapkan</button>
           </div>
           <p class="text-sm text-gray-500 mt-3">Gunakan kode <strong>DANZZGANTENG</strong> untuk dapatkan diskon 10% semua paket!</p>
       </section>

   </main>

   <!-- Sticky Bottom Bar -->
   <div class="sticky-bottom" id="orderBar">
       <div class="max-w-3xl mx-auto px-4 py-3">
           <div class="flex items-center justify-between gap-4 flex-nowrap">
               <div class="flex-1 min-w-0">
                   <p class="text-xs text-gray-500 mb-0.5">Produk terpilih</p>
                   <p class="font-bold text-sm sm:text-base truncate" id="selectedItem">-</p>
                   <div id="priceDisplay" class="flex items-center gap-2">
                       <span class="font-bold text-lg sm:text-xl text-orange-600">Rp 0</span>
                   </div>
               </div>
               <button onclick="processOrder()" class="btn-primary px-6 py-3 shadow-lg whitespace-nowrap flex items-center gap-2 text-sm sm:text-base flex-shrink-0">
                   <span>Beli Sekarang</span>
                   <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                       <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
                   </svg>
               </button>
           </div>
       </div>
   </div>

   <!-- Toast -->
   <div class="toast" id="toast">
       <p class="font-bold text-base" id="toastTitle">Info</p>
       <p class="text-sm mt-1" id="toastMessage"></p>
   </div>

   <script>
       let selectedItemData = null;
       let currentGame = 'ff';
       let promoDiscount = 0;
       let promoApplied = false; // anti-spam sederhana
       const promoCodeValid = 'DANZZGANTENG';

       function selectGame(game) {
           currentGame = game;
           document.querySelectorAll('.game-card').forEach(card => card.classList.remove('selected'));
           document.getElementById(`game-${game}`).classList.add('selected');

           let gameName = game === 'ff' ? 'Verifikasi ASTUTE' : game === 'ml' ? 'VIP ANDRO' : 'VIP iOS';
           document.getElementById('summaryGame').textContent = gameName;
           document.getElementById('idTitle').textContent = `Masukkan ID ${gameName}`;
           document.getElementById('idHint').textContent = `ID bisa dilihat di pengaturan in game untuk membeli ${gameName}`;

           document.getElementById('ffSection').style.display = game === 'ff' ? 'block' : 'none';
           document.getElementById('mlSection').style.display = game === 'ml' ? 'block' : 'none';
           document.getElementById('fcSection').style.display = game === 'fc' ? 'block' : 'none';

           selectedItemData = null;
           promoDiscount = 0;
           promoApplied = false;
           document.getElementById('orderBar').classList.remove('show');
           document.getElementById('selectedItem').textContent = '-';
           document.getElementById('priceDisplay').innerHTML = '<span class="text-orange-600 font-bold text-xl">Rp 0</span>';
           document.querySelectorAll('.verif-card').forEach(card => card.classList.remove('selected'));
           document.getElementById('promoCode').value = '';
           document.getElementById('promoRow').classList.add('hidden');

           updateSummary();
       }

       function selectItem(element, name, price) {
           document.querySelectorAll('.verif-card').forEach(card => card.classList.remove('selected'));
           element.classList.add('selected');

           selectedItemData = { name, originalPrice: price, price: price };

           document.getElementById('selectedItem').textContent = name;
           updatePriceDisplay();
           document.getElementById('orderBar').classList.add('show');

           // Reset promo kalau ganti paket
           if (promoApplied) {
               promoApplied = false;
               promoDiscount = 0;
               selectedItemData.price = price;
               document.getElementById('promoCode').value = '';
               document.getElementById('promoRow').classList.add('hidden');
           }

           updateSummary();
       }

       function updatePriceDisplay() {
           const display = document.getElementById('priceDisplay');
           const finalPrice = selectedItemData ? selectedItemData.price : 0;

           if (promoDiscount > 0) {
               display.innerHTML = `
                   <span class="price-original text-sm">Rp ${selectedItemData.originalPrice.toLocaleString('id-ID')}</span>
                   <span class="price-discount">Rp ${finalPrice.toLocaleString('id-ID')}</span>
               `;
           } else {
               display.innerHTML = `<span class="text-orange-600 font-bold text-xl">Rp ${finalPrice.toLocaleString('id-ID')}</span>`;
           }
       }

       function applyPromo() {
           if (promoApplied) {
               showToast('Info', 'Promo sudah diterapkan');
               return;
           }

           const code = document.getElementById('promoCode').value.trim().toUpperCase();

           if (code === promoCodeValid && selectedItemData) {
               promoDiscount = selectedItemData.originalPrice * 0.10;
               selectedItemData.price = selectedItemData.originalPrice - promoDiscount;
               promoApplied = true;

               showToast('Sukses', 'Kode DANZZGANTENG diterapkan! Diskon 10%');
               updatePriceDisplay();

               document.getElementById('promoDiscount').textContent = `- Rp ${promoDiscount.toLocaleString('id-ID')}`;
               document.getElementById('promoRow').classList.remove('hidden');
               updateSummary();
           } else {
               showToast('Gagal', 'Kode promo tidak valid atau belum pilih paket');
           }
       }

       function updateSummary() {
           if (!selectedItemData) {
               document.getElementById('summarySection').classList.add('hidden');
               return;
           }

           document.getElementById('summaryProduct').textContent = selectedItemData.name;
           document.getElementById('summaryId').textContent = document.getElementById('userId').value.trim() || '-';
           document.getElementById('summaryTotal').textContent = selectedItemData.price.toLocaleString('id-ID');

           if (promoDiscount > 0) {
               document.getElementById('promoRow').classList.remove('hidden');
           } else {
               document.getElementById('promoRow').classList.add('hidden');
           }

           document.getElementById('summarySection').classList.remove('hidden');
       }

       function processOrder() {
           const userId = document.getElementById('userId').value.trim();

           if (!userId) {
               showToast('ID Kosong', 'Silakan masukkan ID akun');
               return;
           }

           if (!selectedItemData) {
               showToast('Belum Pilih Paket', 'Silakan pilih paket terlebih dahulu');
               return;
           }

           let gameName = currentGame === 'ff' ? 'Free Fire (Verif ASTUTE)' :
                          currentGame === 'ml' ? 'VIP ANDRO' : 'VIP iOS';

           let promoText = promoDiscount > 0 ?
               `Kode Promo    : ADENGACOR (diskon 10%)\n` : '';

           let message = `ðŸ›’ PESANAN BARU - DANZZ PEDIA\n\n` +
                         `Game          : ${gameName}\n` +
                         `Produk        : ${selectedItemData.name}\n` +
                         `ID Akun       : ${userId}\n` +
                         promoText +
                         `Total Bayar   : Rp ${selectedItemData.price.toLocaleString('id-ID')}\n\n` +
                         `Silakan konfirmasi pembayaran ya Min ðŸ™\n` +
                         `Terima kasih banyak! ðŸ”¥`;

           const whatsappUsername = 'danzzastute';
           const whatsappLink = `https://wa.me/${whatsappUsername}?text=${encodeURIComponent(message)}`;

           window.open(whatsappLink, '_blank');
       }

       function showToast(title, message) {
           document.getElementById('toastTitle').textContent = title;
           document.getElementById('toastMessage').textContent = message;
           const toast = document.getElementById('toast');
           toast.classList.add('show');
           setTimeout(() => toast.classList.remove('show'), 3000);
       }

       document.getElementById('userId').addEventListener('input', function(e) {
           this.value = this.value.replace(/[^0-9]/g, '');
           updateSummary();
       });

       // Init
       selectGame('ff');
   </script>
</body>
  </html>
